<% include ../header.ejs %>

<!--支付管理--收银台配置-->
<div id="content">
	<div id="content-header">
		<div id="breadcrumb">
			<a href="#" class="tip-bottom"><i class="icon-home"></i>支付管理</a>
			<a href="#" class="current">收银台配置</a>
		</div>
	</div>
	<div class="container-fluid">
		<!--<div class="loading" style="display: none;">
					<img src="/statics/img/jiazai.gif" alt="">
				</div>-->
		<hr>
		<div class="row-fluid">
			<div class="widget-box">
				<div class="widget-content nopadding">
					<form class="form-horizontal" id="signupForm" method="post" action="">
						<table class="table table-striped">
							<tbody>
								<tr class="odd gradeX">
									<td width="100" style="white-space: nowrap;"> 接入方:</td>
									<td>
										<input type="text" value="" class="" name="loanUserName">
									</td>
									<td width="100" style="white-space: nowrap;">
										产品名称 :</td>
									<td>
										<select name="productLine" id="productLine">
											<option value="">全部</option>
											<option value="0">拿下分期</option>
											<option value="1">沐金农</option>
											<option value="2">现金贷</option>
											<option value="3">交叉现金贷</option>
											<option value="4">医疗美容</option>
											<option value="5">妈妈小贷</option>
											<option value="6">拿下钱包</option>
											<option value="7">拿钱宝</option>
											<option value="8">白花花</option>
											<option value="20">拿下商城</option>
										</select>
									</td>
									<td>
										<button type="button" id="submit" class="btn btn-success">查找</button>
									</td>
									<td width="200"></td>
									<td width="200"></td>
								</tr>
							</tbody>
						</table>

						</td>
						</tr>
						</tbody>
						</table>
					</form>

				</div>
			</div>
		</div>
		<div class="form-actions _header">
			<button type="button" id="submit" class="btn btn-primary" data-toggle="modal" data-target="#myModal">添加收银台</button>
		</div>
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"style="display: none;">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
								&times;
							</button>
						<h4 class="modal-title" id="myModalLabel">
								添加收银台
							</h4>
					</div>
					<div class="modal-body">
						<div class="container-fluid">
							<div class="row-fluid">
								<form id="addNewRule">
									<div class="widget-content nopadding form-horizontal">
										<input type="hidden" id="druleId" name="druleId">
										<div class="control-group">
											<label class="control-label" style="width: 150px">产品名称 :</label>
											<div class="controls">
												<select name="" id="">
													<option value=""></option>
												</select>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" style="width: 150px">运行品台 :</label>
											<div class="controls">
												<select name="" id="">
													<option value=""></option>
												</select>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" style="width: 150px">可选支付通道 :</label>
											<div class="controls">
												<div class="controls-two">
													<label style="display: inline-block;margin-right: 40px;"><input type="checkbox" class="input-checked" />支付宝wap </label>
												    <label style="display: inline-block;"><input type="checkbox" class="input-checked" />连连支付 </label>
												</div>
					                            <div class="controls-two">
												    <label style="display: inline-block;"><input type="checkbox" class="input-checked" />连连支付 </label>
												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭
							</button>
						<button type="button" class="btn btn-primary">
								提交更改
							</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal -->
		</div>
		<hr>
		<div class="row-fluid">
			<div class="span12">
				<div class="widget-box">
					<div class="widget-title"> <span class="icon"> <i class="icon-th"></i> </span>
						<h5></h5>
					</div>
					<div class="widget-content nopadding" id="common_list">
						<table class="table table-bordered table-striped">
							<thead>
								<tr>
									<th>id</th>
									<th>产品名称</th>
									<th>运行品台</th>
									<th>支付通道</th>
									<th width="100" style="white-space: nowrap;">操作</th>
								</tr>
								<tr>
									<td>111</td>
									<td>222</td>
									<td>333</td>
									<td>444</td>
									<td width="100" style="white-space: nowrap;">
										<button class="btn btn-info btn-mini float_btn_cen">管理</button>
									</td>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>

					</div>

				</div>

			</div>
		</div>
		<script type="text/x-template" id="page">
			<ul class="pagination">
				<li v-show="current != 1" @click="current-- && goto(current)">
					<span>上一页</span>
				</li>
				<li @click="current-- && goto(1)">
					<span>首页</span>
				</li>
				<li v-for="index in pages" @click="goto(index)" :class="{'active':current == index}" :key="index">
					<span>{{index}}</span>
				</li>
				<li v-show="allpage != current && allpage != 0 " @click="current++ && goto(current++)">
					<span>下一页</span>
				</li>
				<li @click="current-- && goto(allpage)">
					<span>尾页</span>
				</li>
				<li>
					<span>共<i>{{allpage}}</i>页</span>
				</li>
			</ul>
		</script>
		<div id="app2">
			<page></page>
		</div>
	</div>
</div>

<!--<div class="row-fluid">
  <div id="footer" class="span12"> 2013 &copy; Matrix Admin. More Templates <a href="http://www.mycodes.net/" target="_blank">源码之家</a></div>
</div>-->

<% include ../footer.ejs %>
<script>
	Vue.component("page", {
		template: "#page",
		data: function() {
			return {
				current: 1,
				showItem: 5,
				allpage: 30
			}
		},
		computed: {
			pages: function() {
				var pag = [];
				if(this.current < this.showItem) { //如果当前的激活的项 小于要显示的条数
					//总页数和要显示的条数那个大就显示多少条
					var i = Math.min(this.showItem, this.allpage);
					while(i) {
						pag.unshift(i--);
					}
				} else { //当前页数大于显示页数了
					var middle = this.current - Math.floor(this.showItem / 2), //从哪里开始
						i = this.showItem;
					if(middle > (this.allpage - this.showItem)) {
						middle = (this.allpage - this.showItem) + 1
					}
					while(i--) {
						pag.push(middle++);
					}
				}
				return pag
			}
		},
		methods: {
			goto: function(index) {
				if(index == this.current) return;
				this.current = index;
				//这里可以发送ajax请求
				//console.log(this.current)
			}
		}
	})

	var vm = new Vue({
		el: '#app2',
	})
</script>